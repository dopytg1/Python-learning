
Особенности моей бд в том что взаимосвязь между операциями контрагентов реализована
при помощи отрицательных чисел. Тоесть если товар поступает от контрагента это 
будет положительное число(amount), если товар выдается со склада контрагенту число 
положительное(amount).
Что бы реализовать связь между складами в контрагентах создал еще одну запись
id_storage, которые обычно null. Тем самым я намеревался сделать склады такими же 
участниками в actions как и обычные контрагенты


P.S. для удобства скрин базы данных так же оставил, возможно вам пригодится